# 🎮 おやこオセロ - 要件定義書 v2

## 1. プロダクト概要

| 項目 | 内容 |
|------|------|
| **プロダクト名** | おやこオセロ（仮） |
| **コンセプト** | 「ばーば、みないで！」が生まれる家族対戦オセロ |
| **ターゲット** | 6歳前後の子供 ＋ 家族みんな |
| **プラットフォーム** | Webアプリ（スマホ・タブレット対応） |

---

## 2. 市場差別化ポイント

### 既存オセロアプリの課題

- CPU対戦が中心で家族の「一緒に遊ぶ」体験がない
- - ヒント機能が両者に見えてしまう
  - - 子供向けUIが少ない（漢字多い、デザインが地味）
    - - 対戦相手が「Player1 vs Player2」など無機質
     
      - ### 本アプリの差別化
     
      - | 差別化要素 | 詳細 |
      - |------------|------|
      - | **家族キャラ選択** | パパ・ママ・ばーば・じーじ・おじちゃん・おばちゃんから選べる |
      - | **こっそりヒント機能** | 子供側だけに最善手をそっと教える（相手には見えない） |
      - | **1画面対面プレイ** | 物理ボードゲームのように向かい合って遊べる |
      - | **「みないで！」演出** | 「ばーば、めをつぶって！」など相手に合わせた演出 |
      - | **ひらがな＆かわいいUI** | 6歳が自分で操作できるやさしいデザイン |
      - | **直感的ターン表示** | 自分の石が光る＆置ける場所がわかりやすい |
     
      - ---

      ## 3. 機能要件

      ### 3.1 ゲーム開始フロー

      ```
      【キャラクター選択画面】

      ┌─────────────────────────────┐
      │                             │
      │   あいては だれ？            │
      │                             │
      │  👴        👵        👨      │
      │ じーじ    ばーば     パパ    │
      │                             │
      │  👩        👨        👩      │
      │ ママ    おじちゃん おばちゃん │
      │                             │
      │         [つぎへ →]          │
      └─────────────────────────────┘

      ↓

      ┌─────────────────────────────┐
      │                             │
      │   きみは どっち？            │
      │                             │
      │    👦          👧           │
      │  ぼく        わたし         │
      │                             │
      │         [はじめる!]         │
      └─────────────────────────────┘
      ```

      ### 3.2 コア機能

      #### 🎯 オセロゲーム本体

      - 8×8の標準オセロルール
      - - 置ける場所のハイライト表示
        - - 自動で石をひっくり返すアニメーション
          - - 現在の石の数をリアルタイム表示
           
            - #### 👨‍👩‍👧‍👦 家族キャラクター選択
           
            - | キャラ | アイコン | ヒント時の呼びかけ |
            - |--------|----------|-------------------|
            - | パパ | 👨 | 「パパ、めをつぶって！」 |
            - | ママ | 👩 | 「ママ、めをつぶって！」 |
            - | じーじ | 👴 | 「じーじ、めをつぶって！」 |
            - | ばーば | 👵 | 「ばーば、めをつぶって！」 |
            - | おじちゃん | 👨 | 「おじちゃん、めをつぶって！」 |
            - | おばちゃん | 👩 | 「おばちゃん、めをつぶって！」 |
           
            - #### 🗣️ ターン表示の一人称対応
           
            - | 選択 | 自分のターン表示 | 相手のターン表示 |
            - |------|------------------|------------------|
            - | ぼく | 「ぼくの ばん！」 | 「パパの ばん」 |
            - | わたし | 「わたしの ばん！」 | 「ばーばの ばん」 |
           
            - #### ✨ 直感的ターン表示
           
            - **自分の石が光るエフェクト**
           
            - - 現在のターンのプレイヤーの石が「ふわ〜」と光る
              - - 光り方：やわらかいグロー（明→暗→明）を繰り返す
                - - 相手の石は通常表示のまま
                 
                  - **置ける場所の表示**
                 
                  - - 置ける場所に半透明の石＋キラキラドット
                    - - タップすると「ぽこん」と石が置かれる
                      - - 置けない場所をタップしても反応しない（エラー音なし）
                       
                        - #### 👀 こっそりヒント機能
                       
                        - ```
                          【動作フロー】
                          1. 子供のターンで「ヒントボタン」をタップ
                          2. 画面に「{相手の名前}、めをつぶって！」と大きく表示
                             例：「ばーば、めをつぶって！」
                          3. 相手が目をつぶったら子供が「OK」ボタンを押す
                          4. 最善手の位置がキラキラエフェクトで3秒間表示
                          5. 自動で消えて通常画面に戻る
                          ```

                          #### 🔄 1画面対面モード

                          - 画面を180度分割（上下反転表示）
                          - - 子供側・相手側それぞれに自分の色と得点を表示
                            - - ターン切り替え時に「○○のばん！」と表示
                             
                              - ### 3.3 サブ機能
                             
                              - | 機能 | 詳細 |
                              - |------|------|
                              - | **かんたんモード** | 6×6盤面（初心者向け） |
                              - | **やったね演出** | 勝利時に紙吹雪＆ファンファーレ |
                              - | **もういっかい** | ワンタップで再戦（同じ相手で） |
                              - | **あいてをかえる** | キャラ選択に戻る |
                              - | **おとせってい** | 効果音ON/OFF |
                             
                              - ---

                              ## 4. 非機能要件

                              ### 4.1 UI/UX要件

                              - **文字**: すべてひらがな（カタカナは最小限）
                              - - **フォント**: 丸ゴシック系、大きめサイズ
                                - - **配色**: 明るくポップな色使い
                                  - - **ボタン**: 指で押しやすい大きさ（最小44px）
                                    - - **アニメーション**: 石が「ぽこん」とひっくり返る楽しい動き
                                     
                                      - ### 4.2 技術要件
                                     
                                      - - **レスポンシブ対応**: スマホ縦持ち・タブレット対応
                                        - - **オフライン対応**: インストール不要、PWA対応推奨
                                          - - **ブラウザ**: Chrome, Safari（iOS/Android）
                                           
                                            - ### 4.3 パフォーマンス要件
                                           
                                            - - 初回読み込み: 3秒以内
                                              - - 石を置く操作: 即時レスポンス
                                               
                                                - ---

                                                ## 5. 画面構成

                                                ### 5.1 ゲーム画面

                                                ```
                                                ┌─────────────────────────────┐
                                                │  👵 ばーば: ●12こ           │  ← 相手側（上下反転表示）
                                                │                             │
                                                │    ┌─────────────────┐     │
                                                │    │ ●（ふわっと光る）│     │  ← 現在ターンの石が光る
                                                │    │   ・  ・        │     │  ← 置ける場所にドット
                                                │    │    オセロ盤     │     │
                                                │    │                 │     │
                                                │    │ ○  ○  ○       │     │
                                                │    └─────────────────┘     │
                                                │                             │
                                                │  ⭐ ぼくの ばん！            │  ← 一人称でターン表示
                                                │  👦 ぼく: ○16こ             │
                                                │                             │
                                                │  [ヒント💡]    [やめる🚪]   │
                                                └─────────────────────────────┘
                                                ```

                                                ### 5.2 ヒント表示画面

                                                ```
                                                ┌─────────────────────────────────────┐
                                                │                                     │
                                                │    ╭─────────────────────────╮     │
                                                │    │                         │     │
                                                │    │         👵              │     │
                                                │    │       ばーば、           │     │
                                                │    │    めを つぶって！       │     │
                                                │    │                         │     │
                                                │    │      [つぶった！👁️]      │     │
                                                │    │                         │     │
                                                │    ╰─────────────────────────╯     │
                                                │                                     │
                                                └─────────────────────────────────────┘
                                                ```

                                                ---

                                                ## 6. ヒント機能の詳細仕様

                                                ### ヒントのロジック

                                                | 優先度 | 戦略 |
                                                |--------|------|
                                                | 1 | 角が取れる手 |
                                                | 2 | 相手に角を取らせない手 |
                                                | 3 | 最も多く取れる手 |

                                                ### 「みないで」演出の流れ

                                                1. **ボタンタップ** → 画面全体がふわっと暗くなる
                                                2. 2. **メッセージ表示** → 「{相手}、めをつぶってね！」（大きな文字＋アイコン）
                                                   3. 3. **確認ボタン** → 「つぶった！」ボタンを子供がタップ
                                                      4. 4. **ヒント表示** → 該当マスがキラキラ光る（3秒）
                                                         5. 5. **自動終了** → 通常画面に戻る
                                                           
                                                            6. ---
                                                           
                                                            7. ## 7. エフェクト仕様
                                                           
                                                            8. ### 7.1 ターン中の石が光るエフェクト
                                                           
                                                            9. | 項目 | 仕様 |
                                                            10. |------|------|
                                                            11. | 対象 | 現在ターンのプレイヤーの石すべて |
                                                            12. | 光り方 | やわらかいグロー（box-shadow） |
                                                            13. | アニメーション | 2秒周期で明→暗→明を繰り返す |
                                                            14. | 色 | 白石: 白いグロー / 黒石: 青白いグロー |
                                                           
                                                            15. ### 7.2 置ける場所の表示
                                                           
                                                            16. | 項目 | 仕様 |
                                                            17. |------|------|
                                                            18. | 表示方法 | 半透明の石（opacity: 0.4）＋ 中央にキラキラドット |
                                                            19. | アニメーション | ドットが小さく点滅（pulse） |
                                                            20. | タップ時 | 「ぽこん」と石が出現 → ひっくり返しアニメーション |
                                                           
                                                            21. ### 7.3 石をひっくり返すアニメーション
                                                           
                                                            22. | 項目 | 仕様 |
                                                            23. |------|------|
                                                            24. | 動き | Y軸回転（flip）で裏返る |
                                                            25. | 時間 | 0.3秒/個 |
                                                            26. | 順序 | 置いた場所から近い順に連鎖 |
                                                            27. | 効果音 | 「ぽこっ」という軽い音 |
                                                           
                                                            28. ---
                                                           
                                                            29. ## 8. 開発優先度
                                                           
                                                            30. | フェーズ | 機能 | 優先度 |
                                                            31. |----------|------|--------|
                                                            32. | MVP | 基本オセロ（8×8） | ★★★ |
                                                            33. | MVP | 1画面対面モード | ★★★ |
                                                            34. | MVP | 家族キャラ選択 | ★★★ |
                                                            35. | MVP | こっそりヒント機能 | ★★★ |
                                                            36. | MVP | ぼく/わたし選択 | ★★★ |
                                                            37. | MVP | ターン中の石が光る | ★★★ |
                                                            38. | MVP | 置ける場所のドット表示 | ★★★ |
                                                            39. | v1.1 | 6×6かんたんモード | ★★☆ |
                                                            40. | v1.1 | 勝利演出 | ★★☆ |
                                                            41. | v1.2 | PWA対応 | ★☆☆ |
                                                           
                                                            42. ---
                                                           
                                                            43. ## 9. 技術スタック
                                                           
                                                            44. | レイヤー | 技術 | 理由 |
                                                            45. |----------|------|------|
                                                            46. | **フレームワーク** | React + Vite | 高速ビルド、軽量 |
                                                            47. | **スタイリング** | Tailwind CSS | ユーティリティで素早く開発 |
                                                            48. | **アニメーション** | Framer Motion | Reactと相性◎ |
                                                            49. | **PWA** | Vite PWA Plugin | 簡単にPWA化 |
                                                            50. | **ホスティング** | Vercel | 自動デプロイ、高速 |
                                                            51. | **ソース管理** | GitHub | Vercelと連携 |
                                                           
                                                            52. ---
                                                           
                                                            53. ## 10. 成功指標（KPI）
                                                           
                                                            54. - 家族で「ばーばみないで！」「じーじみないで！」のやりとりが発生する
                                                                - - 6歳児が親の補助なしでゲームを進められる
                                                                  - - 置ける場所が一目でわかり、迷わず石を置ける
                                                                    - - 1セッションで2回以上「もういっかい」される
